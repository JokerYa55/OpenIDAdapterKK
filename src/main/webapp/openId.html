<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <script src="openIdConnect.js"></script>
        <script src="jquery-3.2.1.js"></script>
        <script>
            $(document).ready(function () {
                $("#idBtnTest").prop('disabled', true);
                var openID = new OpenIDConnect();
                openID.onInit = function (data) {
                    console.log(data);
                };

                openID.onRefreshToken = function (data1) {
                    console.log("openID.onRefreshToken");
                    console.log(data1);
                };

                openID.onConnect = function (data1) {
                    console.log("openID.onConnect");
                    console.log(data1);

                    this.access_token = data1.access_token;
                    this.id_token = data1.id_token;
                    this.refresh_token = data1.refresh_token;
                    console.log(data1.access_token);
                    console.log(this);
                    openID.getUserInfo();
                };



                console.log(openID);

                openID.Init();

                openID.onInit = function (data) {
                    console.log("openID.onInit");
                    console.log(data);
                    //$("#idBtnTest").prop('disabled', false);                   
                    openID.Connect("appuser", "123");

                };

            });


        </script>
    </head>	
    <body>
        <button onclick="alert(1);" id="idBtnTest">test</button>

    </body>
</html>